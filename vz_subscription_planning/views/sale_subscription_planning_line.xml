<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="subscription_planning_line_tree_view" model="ir.ui.view">
        <field name="name">subscription.planning.line.tree</field>
        <field name="model">sale.subscription.planning.line</field>
        <field name="arch" type="xml">
            <tree string="Subscription Planning Lines">
                <field name="planning_id"/>
                <field name="product_id"/>
                <field name="date"/>
                <field name="day_name"/>
                <field name="price"/>
                <field name="qty"/>
                <field name="uom_id"/>
            </tree>
        </field>
    </record>

    <record id="subscription_planning_line_form_view" model="ir.ui.view">
        <field name="name">sale.subscription.planning.line.form</field>
        <field name="model">sale.subscription.planning.line</field>
        <field name="arch" type="xml">
            <form string="Subscription Planning Line">
                <group>
                    <group>
                        <field name="immutable" invisible="1"/>
                        <field name="planning_id" invisible="1"/>
                        <field name="partner_id" readonly="1"/>
                        <field name="product_id" domain="[('sale_ok','=',True)]" attrs="{'readonly': [('immutable','=',True)]}"/>
                        <field name="date" attrs="{'readonly': [('immutable','=',True)]}"/>
                        <field name="day_name" readonly="1"/>
                    </group>
                    <group>
                        <field name="price" attrs="{'readonly': [('immutable','=',True)]}"/>
                        <label for="qty" string="Quantity"/>
                        <div>
                            <field name="qty" class="oe_inline" attrs="{'readonly': [('immutable','=',True)]}"/>
                            <field name="uom_id" groups="product.group_uom" class="oe_inline oe_no_button" readonly="1"/>
                        </div>
                    </group>
                    <field name="note" placeholder="Add internal notes..."/>
                    <field name="destination_order_line_ids" readonly="1"/>
                </group>
            </form>
        </field>
    </record>

    <record id="subscription_planning_line_grid_view" model="ir.ui.view">
        <field name="name">sale.subscription.planning.line.grid</field>
        <field name="model">sale.subscription.planning.line</field>
        <field name="arch" type="xml">
            <grid string="Planning Lines" create="false" adjustment="object" adjust_name="adjust_grid">
                <field name="planning_id" type="row"/>
                <field name="partner_id" type="row"/>
                <field name="product_id" type="row"/>
                <field name="date" type="col">
                    <range name="week" string="Week" span="week" step="day"/>
                    <range name="month" string="Month" span="month" step="day"/>
                </field>
                <field name="qty" type="measure"/>
            </grid>
        </field>
    </record>

    <record model="ir.ui.view" id="subscription_planning_line_pivot_view">
        <field name="name">sale.subscription.planning.line.pivot</field>
        <field name="model">sale.subscription.planning.line</field>
        <field name="arch" type="xml">
            <pivot string="Planning Lines">
                <field name="date" type="row"/>
                <field name="planning_id" type="row"/>
                <field name="product_id" type="row"/>
                <field name="partner_id" type="row"/>
                <field name="qty" type="measure"/>
                <field name="price" type="measure"/>
            </pivot>
        </field>
    </record>

    <record id="subscription_planning_line_search" model="ir.ui.view">
        <field name="name">sale.subscription.planning.line.search</field>
        <field name="model">sale.subscription.planning.line</field>
        <field name="arch" type="xml">
            <search string="Planning Lines">
                <field name="planning_id" string="Subscription"/>
                <field name="product_id"/>
                <field name="partner_id" operator="child_of"/>
                <field name="date"/>
                <group expand="0" string="Group By">
                    <filter string="Subscription" name="subscription" domain="[]" context="{'group_by':'planning_id'}"/>
                    <filter string="Product" name="product" domain="[]" context="{'group_by':'product_id'}"/>
                    <filter string="Partner" name="partner" domain="[]" context="{'group_by':'partner_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="subscription_planning_line_action" model="ir.actions.act_window">
        <field name="name">Subscription Planning Lines</field>
        <field name="res_model">sale.subscription.planning.line</field>
        <field name="view_type">form</field>
        <field name="view_mode">grid,tree,pivot,form</field>
        <field name="search_view_id" ref="subscription_planning_line_search"/>
        <field name="help" type="html">
          <p class="oe_view_nocontent_create">
            Click to add a new type.
          </p>
        </field>
    </record>

    <record id="subscription_planning_line_tree_action" model="ir.actions.act_window">
        <field name="name">Subscription Planning Lines</field>
        <field name="res_model">sale.subscription.planning.line</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,grid,pivot,form</field>
        <field name="search_view_id" ref="subscription_planning_line_search"/>
        <field name="help" type="html">
          <p class="oe_view_nocontent_create">
            Click to add a new type.
          </p>
        </field>
    </record>

    <record id="subscription_planning_line_report_action" model="ir.actions.act_window">
        <field name="name">Report Planning</field>
        <field name="res_model">sale.subscription.planning.line</field>
        <field name="view_type">form</field>
        <field name="view_mode">pivot</field>
        <field name="search_view_id" ref="subscription_planning_line_search"/>
        <field name="help" type="html">
          <p class="oe_view_nocontent_create">
            Click to add a new type.
          </p>
        </field>
    </record>

</odoo>
